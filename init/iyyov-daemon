#!/usr/bin/env jruby
#-*- ruby -*-
#. hashdot.profile         += daemon
#. hashdot.pid_file         = ./iyyov-daemon.pid
#. hashdot.io_redirect.file = ./iyyov-daemon.log
#. hashdot.vm.options += -Xmx64m
#. hashdot.vm.options += -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled

require 'rubygems'

gem( "iyyov", "= 1.0.0" )

require 'rjack-logback'
RJack::Logback.config_console( :full => true, :thread => true )

require 'iyyov'

Iyyov.context do |c|
  ARGV.each do |afile|
    c.load_file( afile, true )
  end
  c.event_loop
end
